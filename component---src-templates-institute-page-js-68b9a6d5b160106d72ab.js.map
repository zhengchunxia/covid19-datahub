{"version":3,"sources":["webpack:///./src/components/ExternalLink.js","webpack:///./src/templates/institute-page.js","webpack:///./src/components/ArticleList.js"],"names":["ExternalLink","link","url","URL","href","role","aria-label","hostname","Page","makePage","data","errors","console","error","institute","name_cn","name_en","website","course_operation_status","online_course_start_date","course_policy_link","ArticleList","articleEdges","articles","edges","updates","pageQuery","map","edge","art","node","frontmatter","key","id","to","fields","pathname","title"],"mappings":"wIAEaA,G,UAAe,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACvBC,EAAM,IAAIC,IAAIF,GACpB,OAAO,uBAAGG,KAAMH,GACd,0BAAMI,KAAK,MAAMC,aAAW,QAA5B,MAA6CJ,EAAIK,Y,YCLrD,0CAMA,IA4CMC,EAAOC,aA5Ca,SAAC,GAAsB,IAAD,IAAnBC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,OAIjC,OAHIA,GACFC,QAAQC,MAAMF,GAGd,6BACE,4BAAKD,EAAKI,UAAUC,SACpB,6BAAML,EAAKI,UAAUE,SACrB,yCAAeN,EAAKI,UAAUG,SAC9B,6BACE,qCACA,sDAMF,6BACE,qCACA,gDAAYP,EAAKI,UAAUI,+BAA3B,QAAsD,KACtD,gDAAYR,EAAKI,UAAUK,gCAA3B,QAAuD,KACvD,wCACA,oCACGT,EAAKI,UAAUM,oBAAsB,kBAAC,EAAD,CAAcnB,KAAMS,EAAKI,UAAUM,sBACtE,MAGP,sCAEE,kBAAC,EAAD,CAAcnB,KAAM,sEAEtB,6BACE,qCACA,kBAACoB,EAAA,EAAD,CAAaC,aAAcZ,EAAKa,SAASC,SAE3C,6BACE,qCACA,kBAACH,EAAA,EAAD,CAAaC,aAAcZ,EAAKe,QAAQD,aAUnCE,GAFElB,YAEO,e,oCCrDtB,qCAkBea,IAfK,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACrB,OACE,6BACGA,GAAgBA,EAAaK,KAAI,SAAAC,GAAS,IAAD,QAClCC,EAAMD,SAAH,UAAGA,EAAME,YAAT,aAAG,EAAYC,YACxB,OACE,kBAAC,IAAD,CAAMC,IAAKJ,SAAF,UAAEA,EAAME,YAAR,aAAE,EAAYG,GAAIC,GAAIN,SAAF,UAAEA,EAAME,YAAR,iBAAE,EAAYK,cAAd,aAAE,EAAoBC,UACjD,4BAAKP,aAAL,EAAKA,EAAKQ","file":"component---src-templates-institute-page-js-68b9a6d5b160106d72ab.js","sourcesContent":["import React from \"react\";\n\nexport const ExternalLink = ({ link }) => {\n  const url = new URL(link);\n  return <a href={link}>\n    <span role='img' aria-label='link'>🔗</span>{url.hostname}\n  </a>\n}","import React from \"react\";\nimport { graphql } from \"gatsby\";\nimport { makePage } from \"../components/Layout\";\nimport { ExternalLink } from \"../components/ExternalLink\";\nimport ArticleList from \"../components/ArticleList\";\n\nconst InstitutePageCore = ({ data, errors }) => {\n  if (errors) {\n    console.error(errors);\n  }\n  return (\n    <div>\n      <h1>{data.institute.name_cn}</h1>\n      <div>{data.institute.name_en}</div>\n      <div>Website: {data.institute.website}</div>\n      <div>\n        <div>当地确诊</div>\n        <div>\n          本周确诊 x\n          本周新增 x\n          本周死亡 x\n        </div>\n      </div>\n      <div>\n        <div>院校政策</div>\n        <div>院校运转: {data.institute.course_operation_status ?? '-'}</div>\n        <div>停课时间: {data.institute.online_course_start_date ?? '-'}</div>\n        <div>复课时间: -</div>\n        <div>依据: {\n          (data.institute.course_policy_link && <ExternalLink link={data.institute.course_policy_link} />)\n          || '-'}\n        </div>\n      </div>\n      <div>\n        校友问题征集\n        <ExternalLink link={'https://github.com/applysquare/covid19-datahub/issues/new/choose'} />\n      </div>\n      <div>\n        <h2>本校资料区</h2>\n        <ArticleList articleEdges={data.articles.edges} />\n      </div>\n      <div>\n        <h2>本校资讯区</h2>\n        <ArticleList articleEdges={data.updates.edges} />\n      </div>\n\n    </div>\n  );\n};\n\nconst Page = makePage(InstitutePageCore);\nexport default Page;\n\nexport const pageQuery = graphql`\n  query InstitutePage($id: String!, $slug: String!, $countryCode: String!) {\n    area(countryCode: { eq: $countryCode }) {\n      id\n      countryCode\n      title\n    }\n    institute(id: { eq: $id }) {\n      id\n      name_cn\n      name_en\n      website\n      course_operation_status\n      online_course_start_date\n      course_policy_link\n      fields {\n        pathname\n      }\n    }\n    updates: allMarkdownRemark(\n      sort: { order: DESC, fields: [frontmatter___date] }\n      filter: {\n        frontmatter: { instituteSlug: { eq: $slug } }\n        fields: { templateKey: { eq: \"update-page\" } } \n      }\n    ) {\n      edges {\n        node {\n          excerpt(pruneLength: 400)\n          id\n          fields {\n            pathname\n          }\n          frontmatter {\n            title\n            date(formatString: \"MMMM DD, YYYY\")\n          }\n        }\n      }\n    }\n    articles: allMarkdownRemark(\n      sort: { order: DESC, fields: [frontmatter___date] }\n      filter: { \n        frontmatter: { instituteSlug: { eq: $slug } }\n        fields: { templateKey: { eq: \"article-page\" } } }\n    ) {\n      edges {\n        node {\n          id\n          fields {\n            pathname\n          }\n          frontmatter {\n            title\n            date(formatString: \"MMMM DD, YYYY\")\n          }\n        }\n      }\n    }\n  }\n`;\n","import { Link } from \"gatsby\";\nimport React from \"react\";\n\nconst ArticleList = ({ articleEdges }) => {\n  return (\n    <div>\n      {articleEdges && articleEdges.map(edge => {\n        const art = edge?.node?.frontmatter;\n        return (\n          <Link key={edge?.node?.id} to={edge?.node?.fields?.pathname}>\n            <h2>{art?.title}</h2>\n          </Link>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default ArticleList;\n"],"sourceRoot":""}